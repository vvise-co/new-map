# ===========================================
# UNIFIED DEPLOYMENT ENVIRONMENT VARIABLES
# ===========================================
# For Koyeb/Railway where frontend + backend run in single container
# Copy this file to .env and fill in your values
#
# NOTE: No JWT_SECRET required! Token validation is done via introspection.
# NOTE: Backend serves static files directly (no nginx needed)

# Port (auto-set by Koyeb, default: 8000)
# PORT=8000

# ===========================================
# DATABASE (Required)
# ===========================================
# PostgreSQL connection string
DATABASE_URL=jdbc:postgresql://your-host/your-db
DATABASE_USERNAME=your-user
DATABASE_PASSWORD=your-password

# ===========================================
# AUTH SERVER (Required)
# ===========================================
# URL of the central auth server (your-auth-server.koyeb.app)
# Used by backend for token introspection
AUTH_SERVER_URL=https://your-auth-server.koyeb.app

# Build-time variable for frontend (set in Dockerfile ARG)
# VITE_AUTH_SERVER_URL is set from AUTH_SERVER_URL during build

# ===========================================
# APPLICATION URLs (Required)
# ===========================================
# Your deployed app URL
CORS_ALLOWED_ORIGINS=https://your-app.koyeb.app

# ===========================================
# OPTIONAL SETTINGS
# ===========================================
# Cache TTL for token introspection (seconds, default: 300 = 5 minutes)
# AUTH_CACHE_TTL=300

# App name (for logging)
# APP_NAME=your-project-name

# ===========================================
# LOCAL DEVELOPMENT (Separate Services)
# ===========================================
# For local dev where frontend (5173), backend (8080), and auth (8081) run separately:
#
# DATABASE_URL=jdbc:postgresql://localhost:5432/your_db
# DATABASE_USERNAME=postgres
# DATABASE_PASSWORD=postgres
# AUTH_SERVER_URL=http://localhost:8081
# CORS_ALLOWED_ORIGINS=http://localhost:5173
# VITE_AUTH_SERVER_URL=http://localhost:8081
